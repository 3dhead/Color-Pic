{"ast":null,"code":"import _classCallCheck from \"/Users/liufam/Documents/colors-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liufam/Documents/colors-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/liufam/Documents/colors-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/liufam/Documents/colors-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/liufam/Documents/colors-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/liufam/Documents/colors-app/src/components/ColorsList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { analyzeImage } from '../actions';\nimport { getColorInfo } from '../actions';\nimport { Popup } from 'semantic-ui-react'; // change return numberes to percent\n\nvar toPercent = function toPercent(num) {\n  return Math.floor(num * 100) + '%';\n};\n\nvar ColorsList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ColorsList, _Component);\n\n  function ColorsList() {\n    _classCallCheck(this, ColorsList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ColorsList).apply(this, arguments));\n  }\n\n  _createClass(ColorsList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.analyzeImage(this.props.url);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    // Make API call each time the URL changes\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.url !== prevProps.url) {\n        this.props.analyzeImage(this.props.url);\n      }\n\n      ;\n    }\n  }, {\n    key: \"colorsRender\",\n    value: function colorsRender() {\n      var _this = this;\n\n      // if there is no error in request and colors data is returned\n      if (this.props.colors.length >= 1) {\n        var sortColors = this.props.colors.sort(function (a, b) {\n          return b.value - a.value;\n        });\n\n        var _ColorsList = sortColors.map(function (color) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 28\n            },\n            __self: this\n          }, React.createElement(Popup, {\n            trigger: React.createElement(\"div\", {\n              key: color.raw_hex,\n              className: \"color-wrapper\",\n              onClick: function onClick() {\n                return _this.props.getColorInfo(color.raw_hex.slice(1, color.raw_hex.length));\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 31\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"color-square\",\n              style: {\n                \"backgroundColor\": color.raw_hex\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36\n              },\n              __self: this\n            })),\n            content: React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 42\n              },\n              __self: this\n            }, \"Some info\"),\n            on: \"click\",\n            position: \"top right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 29\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, color.raw_hex));\n        });\n\n        return _ColorsList;\n      } // otherwise return error statement\n\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.props.error);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"right floated center aligned thirteen wide column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.colorsRender());\n    }\n  }]);\n\n  return ColorsList;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    colors: state.colors,\n    url: state.url.url,\n    error: state.error\n  };\n};\n\nexport default connect(mapStateToProps, {\n  analyzeImage: analyzeImage,\n  getColorInfo: getColorInfo\n})(ColorsList);","map":{"version":3,"sources":["/Users/liufam/Documents/colors-app/src/components/ColorsList.js"],"names":["React","Component","connect","analyzeImage","getColorInfo","Popup","toPercent","num","Math","floor","ColorsList","props","url","prevProps","colors","length","sortColors","sort","a","b","value","map","color","raw_hex","slice","error","colorsRender","mapStateToProps","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,YAAT,QAA6B,YAA7B;AACA,SAASC,YAAT,QAA6B,YAA7B;AACA,SAASC,KAAT,QAAsB,mBAAtB,C,CAEA;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,GAAG,EAAI;AACvB,SAAOC,IAAI,CAACC,KAAL,CAAWF,GAAG,GAAC,GAAf,IAAsB,GAA7B;AACD,CAFD;;IAIMG,U;;;;;;;;;;;;;wCACgB;AAClB,WAAKC,KAAL,CAAWR,YAAX,CAAwB,KAAKQ,KAAL,CAAWC,GAAnC;AACD;;;AACD;uCACmBC,S,EAAW;AAC5B,UAAI,KAAKF,KAAL,CAAWC,GAAX,KAAmBC,SAAS,CAACD,GAAjC,EAAuC;AACrC,aAAKD,KAAL,CAAWR,YAAX,CAAwB,KAAKQ,KAAL,CAAWC,GAAnC;AACD;;AAAA;AACF;;;mCAEc;AAAA;;AACb;AACA,UAAI,KAAKD,KAAL,CAAWG,MAAX,CAAkBC,MAAlB,IAA4B,CAAhC,EAAmC;AACjC,YAAIC,UAAU,GAAG,KAAKL,KAAL,CAAWG,MAAX,CAAkBG,IAAlB,CAAuB,UAACC,CAAD,EAAGC,CAAH;AAAA,iBAASA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KAArB;AAAA,SAAvB,CAAjB;;AACA,YAAMV,WAAU,GAAGM,UAAU,CAACK,GAAX,CAAe,UAAAC,KAAK;AAAA,iBACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,KAAD;AACE,YAAA,OAAO,EACL;AACE,cAAA,GAAG,EAAEA,KAAK,CAACC,OADb;AAEE,cAAA,SAAS,EAAC,eAFZ;AAGE,cAAA,OAAO,EAAE;AAAA,uBAAM,KAAI,CAACZ,KAAL,CAAWP,YAAX,CAAwBkB,KAAK,CAACC,OAAN,CAAcC,KAAd,CAAoB,CAApB,EAAuBF,KAAK,CAACC,OAAN,CAAcR,MAArC,CAAxB,CAAN;AAAA,eAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAKE;AACE,cAAA,SAAS,EAAC,cADZ;AAEE,cAAA,KAAK,EAAE;AAAC,mCAAmBO,KAAK,CAACC;AAA1B,eAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAFJ;AAaE,YAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAbX;AAcE,YAAA,EAAE,EAAC,OAdL;AAeE,YAAA,QAAQ,EAAC,WAfX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAID,KAAK,CAACC,OAAV,CAlBJ,CADqC;AAAA,SAApB,CAAnB;;AAuBA,eAAOb,WAAP;AACD,OA5BY,CA6Bb;;;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKC,KAAL,CAAWc,KADd,CADF;AAKD;;;6BAEQ;AACP,aACA;AAAK,QAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKC,YAAL,EADH,CADA;AAKD;;;;EAtDsBzB,S;;AAuDxB;;AAED,IAAM0B,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLd,IAAAA,MAAM,EAAEc,KAAK,CAACd,MADT;AAELF,IAAAA,GAAG,EAAEgB,KAAK,CAAChB,GAAN,CAAUA,GAFV;AAGLa,IAAAA,KAAK,EAAEG,KAAK,CAACH;AAHR,GAAP;AAKD,CAND;;AAQA,eAAevB,OAAO,CAACyB,eAAD,EAAkB;AAAExB,EAAAA,YAAY,EAAZA,YAAF;AAAgBC,EAAAA,YAAY,EAAZA;AAAhB,CAAlB,CAAP,CAAyDM,UAAzD,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { analyzeImage } from '../actions';\nimport { getColorInfo } from '../actions';\nimport { Popup } from 'semantic-ui-react';\n\n// change return numberes to percent\nconst toPercent = num => {\n  return Math.floor(num*100) + '%';\n}\n\nclass ColorsList extends Component {\n  componentDidMount() {\n    this.props.analyzeImage(this.props.url);\n  };\n  // Make API call each time the URL changes\n  componentDidUpdate(prevProps) {\n    if (this.props.url !== prevProps.url ) {\n      this.props.analyzeImage(this.props.url);\n    };\n  };\n\n  colorsRender() {\n    // if there is no error in request and colors data is returned\n    if (this.props.colors.length >= 1) {\n      let sortColors = this.props.colors.sort((a,b) => b.value - a.value);\n      const ColorsList = sortColors.map(color =>\n        <div>\n          <Popup\n            trigger={\n              <div\n                key={color.raw_hex}\n                className=\"color-wrapper\"\n                onClick={() => this.props.getColorInfo(color.raw_hex.slice(1, color.raw_hex.length))}\n              >\n                <div\n                  className=\"color-square\"\n                  style={{\"backgroundColor\": color.raw_hex}}\n                />\n              </div>\n            }\n            content={<div>Some info</div>}\n            on='click'\n            position='top right'\n          />\n            <p>{color.raw_hex}</p>\n            {/* <p>{toPercent(color.value)}</p> */}\n        </div>\n      );\n      return(ColorsList);\n    }\n    // otherwise return error statement\n    return (\n      <div>\n        {this.props.error}\n      </div>\n    );\n  };\n\n  render() {\n    return (\n    <div className=\"right floated center aligned thirteen wide column\">\n      {this.colorsRender()}\n    </div>\n    );\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    colors: state.colors,\n    url: state.url.url,\n    error: state.error\n  };\n};\n\nexport default connect(mapStateToProps, { analyzeImage, getColorInfo })(ColorsList);\n"]},"metadata":{},"sourceType":"module"}